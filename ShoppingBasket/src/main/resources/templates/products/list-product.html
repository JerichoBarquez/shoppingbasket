<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
	integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
	crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

<title>Products in Basket</title>
</head>

<body>

	<div class="container">
		<div style="" class = "jumbotron">
		<h3>Products in Basket</h3>
		<hr>
		<a th:href="@{/products/showFormForAdd(basket_id=${basket_id})}"
			class="btn btn-info mb-3 col-2"><i class="fas fa-plus-circle"></i> Add Product </a>
		<table class="table table-bordered table-striped table-hover ">
			<thead class="thead-dark">
				<tr>
					<th>Product Name</th>
					<th>Product Description</th>
					<th>Quantity</th>
					<th>Price</th>
					<th>Total Price</th>
					<th></th>
				</tr>
			</thead>

			<tbody>
				<tr th:each="prod : ${theProducts}">
					<td th:text="${prod.prod_name}" />
					<td th:text="${prod.description}" />
					<td th:text="${prod.qty}" />
					<td th:text="${prod.price}" />
					<td th:text="${prod.price * prod.qty}" />
					<td>
						<!-- Add "update" button/link --> <a
						th:href="@{/products/showFormForUpdate(prod_id=${prod.prod_id})}"
						class="btn btn-outline-info">
						 <i class="fas fa-pencil-alt"></i>
						  </a>
						<a
						th:href="@{/products/delete(prod_id=${prod.prod_id},basket_id=${basket_id})}"
						class="btn btn-outline-danger" 
						onclick="if (!(confirm('Are you sure you want to delete this Product?'))) return false">
						<i class="fas fa-trash-alt"></i>
							 </a>
					</td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td>Total:</td>
					<td th:text="${sum}" />
					<td></td>
				</tr>
			</tbody>

		</table>
		<hr>
		<a th:href="@{/baskets/list/}">Back to Basket List</a>
		</div>
	</div>

</body>
</html>